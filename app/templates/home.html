{% extends "base.html" %}
{% from 'macros.html' import render_pagination %}

{% block content %}
    <div class="post_list">
        {% for post in pagination.items %}
            <div class="post animated fadeInDown clearfix">
                <div class="post_title">
                    <h2>
                        <a href="/post/{{ post.id }}">{{ post.title }} </a>
                    </h2>
                </div>
                <div class="list">
                    <div class="post_content">
                        <p>{% if post.body_html %}
                            {{ post.body_html|truncate(150)|prettify|safe }}
                        {% else %}
                            {{ post.content }}
                        {% endif %}</p>
                    </div>
                </div>
                <div class="post_footer clearfix">
                    <div class="meta">
                        <div class="info">
                            <span class="field">
                                <i class="fa fa-sun-o"></i>
                                <span class="date">{{ post.create_time.strftime('%Y-%m-%d') }}</span>
                            </span>
                            <span class="field">
                                <i class="fa fa-comment-o"></i>
                                <span>{{ post.comments |length }} Comments</span>
                            </span>

                        </div>

                    </div>

                </div>

            </div>

        {% endfor %}


    </div>
    {{ render_pagination(pagination,'home.index') }}
{% endblock %}